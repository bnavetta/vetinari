import java.time.Year

allprojects {
	apply plugin: 'eclipse'
	apply plugin: 'idea'

	group = 'org.vetinari'
	version = '0.1-beta'
}

subprojects {
	apply plugin: 'groovy'
	apply plugin: 'maven-publish'
//	apply plugin: 'license'

	buildscript {
		repositories {
			jcenter()
			mavenCentral()
		}
		dependencies {
//			classpath 'nl.javadude.gradle.plugins:license-gradle-plugin:0.9.0'
		}
	}

// For some reason, Gradle can't find the license plugin...
//	license {
//		header rootProject.file('gradle/header.txt')
//		ext.year = Year.now().value
//		skipExistingHeaders true
//	}

	sourceCompatibility = 1.8
	targetCompatibility = 1.8

	repositories {
		jcenter()
		mavenCentral()
	}

	publishing {
		publications {
			mavenJava(MavenPublication) {
				from components.java
			}
		}
		repositories {
			maven {
				url "$rootProject.buildDir/repo"
			}
		}
	}
}

task wrapper(type: Wrapper) {
	gradleVersion = '2.0'
}
